<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>auto</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            font-size: 0;
        }
    </style>
    <script src="js/three.min.js"></script>
    <script src="js/Animation.js"></script>
    <script src="js/AnimationHandler.js"></script>
    <script src="js/KeyFrameAnimation.js"></script>
    <script src="js/ColladaLoader.js"></script>

</head>



<body id="zupa">
    <script>

    var WIDTH = window.innerWidth;
    var HEIGHT = window.innerHeight;

    document.addEventListener('keydown', onDocumentKeyDown, false);
    document.addEventListener('keyup', onDocumentKeyUp, false);

    var xu = 0, zu = 0, yu=0;
    function onDocumentKeyDown(event) {
        event = event || window.event;
        var keycode = event.keyCode;
        switch (keycode) {
            case 37: console.log("left down");
                zu -= 0.01;
               
                break;
            case 38: console.log("up down");
                xu -= 10;

                break;
            case 39: console.log("right down");
                zu += 0.01;

                break;
            case 40: console.log("down down");
                xu += 10;

                break;
        }
    }
    function onDocumentKeyUp(event) {
        event = event || window.event;
        var keycode = event.keyCode;
        switch (keycode) {
            case 37: console.log("left up");
               
                break;
            case 38: console.log("up up");

                break;
            case 39: console.log("right up");
                
                break;
            case 40: console.log("down up");

                break;
        }
    }

        

    var renderer = new THREE.WebGLRenderer({ antialias: true });
    renderer.setSize(WIDTH, HEIGHT);
    renderer.setClearColor(0x000000, 1);
    document.body.appendChild(renderer.domElement);

    var scene = new THREE.Scene();

    var camera = new THREE.PerspectiveCamera(50, WIDTH / HEIGHT, 0.1, 10000);
    camera.position.z = 300;
    camera.position.y = -600;
    camera.rotation.x = 1;
    scene.add(camera);

    var cloader = new THREE.ColladaLoader();
    cloader.load('mu/mustang.DAE', function (collada) {
        sofa = collada.scene;
        sofa.position.set(0, 0, 0);
        sofa.scale.set(20, 20, 20);
        sofa.rotation.x = 1.7;
        sofa.updateMatrix();
        scene.add(sofa);
        }, function ( xhr ) {console.log( (xhr.loaded / xhr.total * 100) + '% loaded' );}
    );

    var light = new THREE.PointLight(0x996600);
    light.position.set(0, 100, 100);
    scene.add(light);

    var Texture = new THREE.TextureLoader().load("tor.png");
    Texture.wrapS = THREE.RepeatWrapping;
    Texture.wrapT = THREE.RepeatWrapping;
    Texture.repeat.set( 1, 1 );
   
    var Material = new THREE.MeshBasicMaterial({ map: Texture, side: THREE.DoubleSide });
    var Geometry = new THREE.PlaneGeometry(2000, 5000, 1, 1);
    var plane = new THREE.Mesh(Geometry, Material);
    plane.position.set(0, 0, 0);
    //plane.material.map.offset.x = 200;
    scene.add(plane);

    

    function render() {
        plane.material.map.offset.z = xu;
        plane.rotation.z = zu;
        requestAnimationFrame(render);
        renderer.render(scene, camera);
    }
    render();

    </script>

</body>
</html>